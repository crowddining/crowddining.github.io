angular.module("crowddining",["ngAnimate","ngRoute"]).config(["$locationProvider","$routeProvider",function(a,b){b.otherwise({redirectTo:"/"})}]),angular.module("crowddining").controller("MainCtrl",["$scope","$location","$anchorScroll","ParseService","Meals",function(a,b,c,d,e){a.simpleMail={},a.hosting={},a.meals=e.list(),a.activeClass={all:"active",karlsruhe:"",mannheim:""},a.active={},a.karlsruhe=function(){$("#work-preview").mixitup("filter","karlsruhe"),b.hash("angebote"),c()},a.mannheim=function(){$("#work-preview").mixitup("filter","mannheim"),b.hash("angebote"),c()},a.angebote=function(){b.hash("angebote"),c()},a.postMail=function(b){d.saveMail(b).then(function(){a.simpleMail.success=!0,a.$apply()},function(){a.simpleMail.error=!0,a.$apply()})},a.anrufen=function(){b.hash("anrufen"),c()},a.postHosting=function(e){d.saveHosting(e).then(function(){a.hosting.success=!0,a.$apply(),b.hash("yeah"),c()},function(){a.hosting.error=!0,a.$apply()})},a.toggleFilter=function(b){if(0===Object.keys(a.active).length){if("all"===b)return;a.active={city:b},a.activeClass.all="",a.activeClass[b]="active"}else{if(a.active===b.toLowerCase())return;a.activeClass[a.active.city]="",a.activeClass[b]="active",a.active="all"===b?{}:{city:b}}}}]),angular.module("crowddining").service("ParseService",function(){Parse.initialize("LR0pYmBqkigaSooksX77MdfebKtBQ3aTEGr5mymj","FfkeGXU0SEhsUhRcmS9aYNPhlTUi3MeqKkcdDgCN");var a=Parse.Object.extend("SimpleEmail"),b=new a,c=Parse.Object.extend("Hosting"),d=new c;this.saveMail=function(a){return b.save({email:a})},this.saveHosting=function(a){return d.save(a)}}),angular.module("crowddining").service("Meals",function(){function a(a){var b="DD MMM YY | HH:mm",c=new Date;return a=moment(a).dayOfYear()==moment(c).dayOfYear()-1?"Gestern":moment(a).dayOfYear()==moment(c).dayOfYear()?"Heute":moment(a).dayOfYear()==moment(c).dayOfYear()+1?"Morgen":moment(a).format(b)}var b="Hey, ich bin Tim und einer der Gr체nder von crowddining. Neben meinem Informatik Studium am KIT koche ich wahnsinnig gerne. Komm einfach mal vorbei, du bist immer eingeladen!",c={description:b,chef:"Tim",profileLink:"https://www.facebook.com/tim.suchanek.5",seats:4,where:"S체dstadt Karlsruhe",number:"0171 78 422 19",price:3,city:"Karlsruhe"},d=[angular.extend(angular.copy(c),{title:"Gem체se-Hack Pfanne mit Reis",img:"Gemuese-Hack Pfanne mit Reis.jpg",when:new Date(2014,2,18,20,0)}),angular.extend(angular.copy(c),{title:"Pizza vom Pizzastein",img:"Selbstgemachte Schinkenpizza.jpg",when:new Date(2014,2,19,20,0)}),angular.extend(angular.copy(c),{title:"Rote Linsensuppe mit H채hnchenspiessen",img:"Rote Linsen Suppe.jpg",when:new Date(2014,2,20,20,0)}),angular.extend(angular.copy(c),{title:"Bulgur Salat",img:"Bulgursalat.jpg",when:new Date(2014,2,21,20,0)}),angular.extend(angular.copy(c),{title:"Auberginen Auflauf",img:"Auberginen Auflauf.jpg",when:new Date(2014,2,22,20,0)}),angular.extend(angular.copy(c),{title:"Couscous-Mango Salat",img:"Couscous Mango Salat.jpg",when:new Date(2014,2,23,20,0)})];this.list=function(){return d.map(function(b){return b.img="/images/meals/"+b.img,b.when=a(b.when),b.city=b.city.toLowerCase(),b})}});